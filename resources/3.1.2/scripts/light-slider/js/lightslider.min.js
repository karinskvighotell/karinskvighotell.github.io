(function(k){var C={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,loop:!1,slideEndAnimation:!0,pause:2E3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(){},
onSliderLoad:function(){},onBeforeSlide:function(){},onAfterSlide:function(){},onBeforeNextSlide:function(){},onBeforePrevSlide:function(){}};k.fn.lightSlider=function(A){if(this.length===0)return this;if(this.length>1)return this.each(function(){k(this).lightSlider(A)}),this;var m={},a=k.extend(!0,{},C,A),r={},b=this;m.$el=this;if(a.mode==="fade")a.vertical=!1;var g=b.children(),w=k(window).width(),t=null,s=0,l=0,y=!1,j=0,f="",h=0,x=a.vertical===!0?"height":"width",z=a.vertical===!0?"margin-bottom":
"margin-right",n=0,v=0,q=0,u=0,p=null,B="ontouchstart"in document.documentElement,i={chbreakpoint:function(){w=k(window).width();if(a.responsive.length){var c;if(a.autoWidth===!1)c=a.item;if(w<a.responsive[0].breakpoint)for(var e=0;e<a.responsive.length;e++)w<a.responsive[e].breakpoint&&(t=a.responsive[e]);if(typeof t!=="undefined"&&t!==null)for(var d in t.settings)if(t.settings.hasOwnProperty(d)){if(typeof r[d]==="undefined"||r[d]===null)r[d]=a[d];a[d]=t.settings[d]}if(!k.isEmptyObject(r)&&w>a.responsive[0].breakpoint)for(var b in r)r.hasOwnProperty(b)&&
(a[b]=r[b]);a.autoWidth===!1&&n>0&&q>0&&c!==a.item&&(h=Math.round(n/((q+a.slideMargin)*a.slideMove)))}},calSW:function(){a.autoWidth===!1&&(q=(j-(a.item*a.slideMargin-a.slideMargin))/a.item)},calWidth:function(c){c=c===!0?f.find(".lslide").length:g.length;if(a.autoWidth===!1)l=c*(q+a.slideMargin);else for(var e=l=0;e<c;e++)l+=parseInt(g.eq(e).width())+a.slideMargin;return l}},m={doCss:function(){var c;return a.useCSS&&function(){for(var a="transition,MozTransition,WebkitTransition,OTransition,msTransition,KhtmlTransition".split(","),
c=document.documentElement,b=0;b<a.length;b++)if(a[b]in c.style)return!0}()?!0:!1},keyPress:function(){var c=this;if(a.keyPress)k(document).on("keyup.lightslider",function(a){if(!k(":focus").is("input, textarea"))a.preventDefault?a.preventDefault():a.returnValue=!1,a.keyCode===37?(b.goToPrevSlide(),c.pause()):a.keyCode===39&&(b.goToNextSlide(),c.pause())})},controls:function(){var c=this;if(a.controls&&(b.after('<div class="lSAction"><a class="lSPrev">'+a.prevHtml+'</a><a class="lSNext">'+a.nextHtml+
"</a></div>"),a.autoWidth?i.calWidth(!1)<j&&f.find(".lSAction").hide():s<=a.item&&f.find(".lSAction").hide(),f.find(".lSAction a").on("click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;k(this).attr("class")==="lSPrev"?b.goToPrevSlide():b.goToNextSlide();c.pause();return!1}),a.playable)){var e=k('<div class="ls-auto-controls"><a id="ls-play-pause"></a></div>');b.after(e);e.on("click",function(a){a.preventDefault();a.stopPropagation();p?c.pause():c.play()}).on("mousedown",function(a){a.stopPropagation()}).on("mouseup",
function(a){a.stopPropagation()})}},initialStyle:function(){var c=this;if(a.mode==="fade")a.autoWidth=!1,a.slideEndAnimation=!1;if(a.auto)a.slideEndAnimation=!1;if(a.autoWidth)a.slideMove=1,a.item=1;if(a.loop)a.slideMove=1,a.freeMove=!1;a.onBeforeStart.call(this,b);i.chbreakpoint();b.addClass("lightSlider").wrap('<div class="lSSlideOuter '+a.addClass+'"><div class="lSSlideWrapper"></div></div>');f=b.parent(".lSSlideWrapper");a.rtl===!0&&f.parent().addClass("lSrtl");a.vertical?(f.parent().addClass("vertical"),
j=a.verticalHeight,f.css("height",j+"px")):j=b.outerWidth();g.addClass("lslide");if(a.loop===!0&&a.mode==="slide")i.calSW(),i.clone=function(){if(i.calWidth(!0)>j){for(var e=0,d=0,f=0;f<g.length;f++)if(e+=parseInt(b.find(".lslide").eq(f).width())+a.slideMargin,d++,e>=j+a.slideMargin)break;e=a.autoWidth===!0?d:a.item;if(e<b.find(".clone.left").length)for(d=0;d<b.find(".clone.left").length-e;d++)g.eq(d).remove();if(e<b.find(".clone.right").length)for(d=g.length-1;d>g.length-1-b.find(".clone.right").length;d--)h--,
g.eq(d).remove();for(d=b.find(".clone.right").length;d<e;d++)b.find(".lslide").eq(d).clone().removeClass("lslide").addClass("clone right").appendTo(b),h++;for(d=b.find(".lslide").length-b.find(".clone.left").length;d>b.find(".lslide").length-e;d--)b.find(".lslide").eq(d-1).clone().removeClass("lslide").addClass("clone left").prependTo(b);g=b.children()}else g.hasClass("clone")&&(b.find(".clone").remove(),c.move(b,0))},i.clone();i.sSW=function(){s=g.length;a.rtl===!0&&a.vertical===!1&&(z="margin-left");
a.autoWidth===!1&&g.css(x,q+"px");g.css(z,a.slideMargin+"px");l=i.calWidth(!1);b.css(x,l+"px");if(a.loop===!0&&a.mode==="slide"&&y===!1)h=b.find(".clone.left").length};i.calL=function(){g=b.children();s=g.length};this.doCss()&&f.addClass("usingCss");i.calL();a.mode==="slide"?(i.calSW(),i.sSW(),a.loop===!0&&(n=c.slideValue(),this.move(b,n)),a.vertical===!1&&this.setHeight(b,!1)):(this.setHeight(b,!0),b.addClass("lSFade"),this.doCss()||g.not(".active").css("display","none"));a.loop===!0&&a.mode==="slide"?
g.eq(h).addClass("active"):g.first().addClass("active")},pager:function(){var c=this;i.createPager=function(){u=(j-(a.thumbItem*a.thumbMargin-a.thumbMargin))/a.thumbItem;for(var e=f.find(".lslide"),D=f.find(".lslide").length,o=0,g="",i=0,o=0;o<D;o++){a.mode==="slide"&&(a.autoWidth?i+=(parseInt(e.eq(o).width())+a.slideMargin)*a.slideMove:i=o*(q+a.slideMargin)*a.slideMove);var n=e.eq(o*a.slideMove).attr("data-thumb");g+=a.gallery===!0?'<li style="width:100%;'+x+":"+u+"px;"+z+":"+a.thumbMargin+'px"><a href="#"><img src="'+
n+'" /></a></li>':'<li><a href="#">'+(o+1)+"</a></li>";if(a.mode==="slide"&&i>=l-j-a.slideMargin){o+=1;e=2;a.autoWidth&&(g+='<li><a href="#">'+(o+1)+"</a></li>",e=1);o<e?(g=null,f.parent().addClass("noPager")):f.parent().removeClass("noPager");break}}var k=f.parent();k.find(".lSPager").html(g);a.gallery===!0&&(a.vertical===!0&&k.find(".lSPager").css("width",a.vThumbWidth+"px"),v=o*(a.thumbMargin+u)+0.5,k.find(".lSPager").css({property:v+"px","transition-duration":a.speed+"ms"}),a.vertical===!0&&f.parent().css("padding-right",
a.vThumbWidth+a.galleryMargin+"px"),k.find(".lSPager").css(x,v+"px"));var m=k.find(".lSPager").find("li");m.first().addClass("active");m.on("click",function(){a.loop===!0&&a.mode==="slide"?h+=m.index(this)-k.find(".lSPager").find("li.active").index():h=m.index(this);b.mode(!1);a.gallery===!0&&c.slideThumb();c.pause();return!1})};if(a.pager){var e="lSpg";a.gallery&&(e="lSGallery");f.after('<ul class="lSPager '+e+'"></ul>');e=a.vertical?"margin-left":"margin-top";f.parent().find(".lSPager").css(e,a.galleryMargin+
"px");i.createPager()}setTimeout(function(){i.init()},0)},setHeight:function(c,b){var d=null,f=this,d=a.loop?c.children(".lslide ").first():c.children().first(),o=function(){var a=d.outerHeight(),f=0,o=a;b&&(a=0,f=o*100/j);c.css({height:a+"px","padding-bottom":f+"%"})};o();d.has("img")?setTimeout(function(){o();p||f.auto()},100):p||f.auto()},active:function(c,e){this.doCss()&&a.mode==="fade"&&f.addClass("on");var d=0;if(h*a.slideMove<s){c.removeClass("active");!this.doCss()&&a.mode==="fade"&&e===
!1&&c.fadeOut(a.speed);var d=e===!0?h:h*a.slideMove,g;if(e===!0)g=c.length,d+1>=g&&(d=g-1);if(a.loop===!0&&a.mode==="slide"&&(d=e===!0?h-b.find(".clone.left").length:h*a.slideMove,e===!0))g=c.length,d+1===g?d=g-1:d+1>g&&(d=0);!this.doCss()&&a.mode==="fade"&&e===!1&&c.eq(d).fadeIn(a.speed);c.eq(d).addClass("active")}else c.removeClass("active"),c.eq(c.length-1).addClass("active"),!this.doCss()&&a.mode==="fade"&&e===!1&&(c.fadeOut(a.speed),c.eq(d).fadeIn(a.speed))},move:function(c,b){a.rtl===!0&&(b=
-b);this.doCss()?a.vertical===!0?c.css({transform:"translate3d(0px, "+-b+"px, 0px)","-webkit-transform":"translate3d(0px, "+-b+"px, 0px)"}):c.css({transform:"translate3d("+-b+"px, 0px, 0px)","-webkit-transform":"translate3d("+-b+"px, 0px, 0px)"}):a.vertical===!0?c.css("position","relative").animate({top:-b+"px"},a.speed,a.easing):c.css("position","relative").animate({left:-b+"px"},a.speed,a.easing);this.active(f.parent().find(".lSPager").find("li"),!0)},fade:function(){this.active(g,!1);this.active(f.parent().find(".lSPager").find("li"),
!0)},slide:function(){var c=this;i.calSlide=function(){l>j&&(n=c.slideValue(),c.active(g,!1),n>l-j-a.slideMargin?n=l-j-a.slideMargin:n<0&&(n=0),c.move(b,n),a.loop===!0&&a.mode==="slide"&&(h>=s-b.find(".clone.left").length/a.slideMove&&c.resetSlide(b.find(".clone.left").length),h===0&&c.resetSlide(f.find(".lslide").length)))};i.calSlide();setTimeout(function(){c.recalcCtrls()})},recalcCtrls:function(){var a=g.filter(".active").find(".ImageContainer img").height(),b=f.find(".lSAction a"),d=b.eq(0).height(),
a=a/2-d/2;a<0&&(a=0);b.css("top",a+"px")},resetSlide:function(c){var e=this;f.find(".lSAction a").addClass("disabled");setTimeout(function(){h=c;f.css("transition-duration","0ms");n=e.slideValue();e.active(g,!1);m.move(b,n);setTimeout(function(){f.css("transition-duration",a.speed+"ms");f.find(".lSAction a").removeClass("disabled")},50)},a.speed+100)},slideValue:function(){var b=0;if(a.autoWidth===!1)b=h*(q+a.slideMargin)*a.slideMove;else for(var e=b=0;e<h;e++)b+=parseInt(g.eq(e).width())+a.slideMargin;
return b},slideThumb:function(){var c;switch(a.currentPagerPosition){case "left":c=0;break;case "middle":c=j/2-u/2;break;case "right":c=j-u}var e=h-b.find(".clone.left").length,d=f.parent().find(".lSPager");if(a.mode==="slide"&&a.loop===!0)if(e>=d.children().length)e=0;else if(e<0)e=d.children().length;c=e*(u+a.thumbMargin)-c;c+j>v&&(c=v-j-a.thumbMargin);c<0&&(c=0);this.move(d,c)},auto:function(){a.auto&&this.play()},play:function(){clearInterval(p);p=setInterval(function(){b.goToNextSlide()},a.pause);
k("#ls-play-pause").addClass("playing")},pause:function(){clearInterval(p);p=null;k("#ls-play-pause").removeClass("playing")},touchMove:function(c,e){f.css("transition-duration","0ms");if(a.mode==="slide"){var d=n-(c-e);if(d>=l-j-a.slideMargin)if(a.freeMove===!1)d=l-j-a.slideMargin;else var g=l-j-a.slideMargin,d=g+(d-g)/5;else d<0&&(a.freeMove===!1?d=0:d/=5);this.move(b,d)}},touchEnd:function(c){f.css("transition-duration",a.speed+"ms");this.pause();if(a.mode==="slide"){var e=!1,d=!0;n-=c;n>l-j-a.slideMargin?
(n=l-j-a.slideMargin,a.autoWidth===!1&&(e=!0)):n<0&&(n=0);var i=function(b){var c=0;e||b&&(c=1);if(a.autoWidth)for(var d=b=0;d<g.length;d++){if(b+=parseInt(g.eq(d).width())+a.slideMargin,h=d+c,b>=n)break}else b=n/((q+a.slideMargin)*a.slideMove),h=parseInt(b)+c,n>=l-j-a.slideMargin&&b%1!==0&&h++};c>=a.swipeThreshold?(i(!1),d=!1):c<=-a.swipeThreshold&&(i(!0),d=!1);b.mode(d);this.slideThumb()}else c>=a.swipeThreshold?b.goToPrevSlide():c<=-a.swipeThreshold&&b.goToNextSlide()},enableDrag:function(){var b=
this;if(!B){var e=0,d=0,g=!1;f.find(".lightSlider").addClass("lsGrab");f.on("mousedown",function(d){if(l<j&&l!==0)return!1;if(k(d.target).attr("class")!=="lSPrev"&&k(d.target).attr("class")!=="lSNext")e=a.vertical===!0?d.pageY:d.pageX,g=!0,d.preventDefault?d.preventDefault():d.returnValue=!1,f.scrollLeft+=1,f.scrollLeft-=1,f.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),b.pause()});k(window).on("mousemove",function(f){g&&(d=a.vertical===!0?f.pageY:f.pageX,b.touchMove(d,e))});k(window).on("mouseup",
function(h){if(g){f.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab");g=!1;d=a.vertical===!0?h.pageY:h.pageX;h=d-e;if(Math.abs(h)>=a.swipeThreshold)k(window).on("click.ls",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopImmediatePropagation();a.stopPropagation();k(window).off("click.ls")});b.touchEnd(h)}})}},enableTouch:function(){var b=this;if(B){var e,d,g={};f.on("touchstart",function(a){g=a.originalEvent.targetTouches[0];e=a.originalEvent.targetTouches[0].pageX;
d=a.originalEvent.targetTouches[0].pageY;b.pause()});f.on("touchmove",function(f){if(l<j&&l!==0)return!1;g=f.originalEvent.targetTouches[0];var h=Math.abs(g.pageX-e),i=Math.abs(g.pageY-d);a.vertical===!0?(i*3>h&&f.preventDefault(),b.touchMove(g.pageY,d)):(h*3>i&&f.preventDefault(),b.touchMove(g.pageX,e))});f.on("touchend",function(){if(l<j&&l!==0)return!1;b.touchEnd(a.vertical===!0?g.pageY-d:g.pageX-e)})}},build:function(){this.initialStyle();this.doCss()&&(a.enableTouch===!0&&this.enableTouch(),
a.enableDrag===!0&&this.enableDrag());this.pager();this.controls();this.keyPress()}};m.build();i.init=function(){i.chbreakpoint();a.vertical===!0?(j=a.item>1?a.verticalHeight:g.outerHeight(),f.css("height",j+"px")):j=f.outerWidth();a.loop===!0&&a.mode==="slide"&&i.clone();i.calL();a.mode==="slide"&&b.removeClass("lSSlide");a.mode==="slide"&&(i.calSW(),i.sSW());setTimeout(function(){a.mode==="slide"&&b.addClass("lSSlide")},1E3);a.pager&&i.createPager();a.adaptiveHeight===!0&&a.vertical===!1&&b.css("height",
g.eq(h).outerHeight(!0));a.adaptiveHeight===!1&&(a.mode==="slide"?a.vertical===!1&&m.setHeight(b,!1):m.setHeight(b,!0));a.gallery===!0&&m.slideThumb();a.mode==="slide"&&m.slide();a.autoWidth===!1?g.length<=a.item?f.find(".lSAction").hide():f.find(".lSAction").show():i.calWidth(!1)<j&&l!==0?f.find(".lSAction").hide():f.find(".lSAction").show()};b.goToPrevSlide=function(){h>0?(a.onBeforePrevSlide.call(this,b,h),h--,b.mode(!1),a.gallery===!0&&m.slideThumb()):a.loop===!0?(a.onBeforePrevSlide.call(this,
b,h),a.mode==="fade"&&(h=parseInt((s-1)/a.slideMove)),b.mode(!1),a.gallery===!0&&m.slideThumb()):a.slideEndAnimation===!0&&(b.addClass("leftEnd"),setTimeout(function(){b.removeClass("leftEnd")},400))};b.goToNextSlide=function(){var c=!0;a.mode==="slide"&&(c=m.slideValue()<l-j-a.slideMargin);h*a.slideMove<s-a.slideMove&&c?(a.onBeforeNextSlide.call(this,b,h),h++,b.mode(!1),a.gallery===!0&&m.slideThumb()):a.loop===!0?(a.onBeforeNextSlide.call(this,b,h),h=0,b.mode(!1),a.gallery===!0&&m.slideThumb()):
a.slideEndAnimation===!0&&(b.addClass("rightEnd"),setTimeout(function(){b.removeClass("rightEnd")},400))};b.mode=function(c){a.adaptiveHeight===!0&&a.vertical===!1&&b.css("height",g.eq(h).outerHeight(!0));y===!1&&(a.mode==="slide"?m.doCss()&&(b.addClass("lSSlide"),a.speed!==""&&f.css("transition-duration",a.speed+"ms"),a.cssEasing!==""&&f.css("transition-timing-function",a.cssEasing)):m.doCss()&&(a.speed!==""&&b.css("transition-duration",a.speed+"ms"),a.cssEasing!==""&&b.css("transition-timing-function",
a.cssEasing)));c||a.onBeforeSlide.call(this,b,h);a.mode==="slide"?m.slide():m.fade();setTimeout(function(){c||a.onAfterSlide.call(this,b,h)},a.speed);y=!0};b.play=function(){clearInterval(p);b.goToNextSlide();p=setInterval(function(){b.goToNextSlide()},a.pause)};b.pause=function(){clearInterval(p)};b.refresh=function(){i.init()};b.getCurrentSlideCount=function(){var c=h;if(a.loop)var c=f.find(".lslide").length,e=b.find(".clone.left").length,c=h<=e-1?c+(h-e):h>=c+e?h-c-e:h-e;return c+1};b.getTotalSlideCount=
function(){return f.find(".lslide").length};b.goToSlide=function(c){h=a.loop?c+b.find(".clone.left").length-1:c;b.mode(!1);a.gallery===!0&&m.slideThumb()};setTimeout(function(){a.onSliderLoad.call(this,b)},10);k(window).on("resize orientationchange",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1;i.init()},200)});return this}})(jQuery);
